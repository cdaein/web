---
import { gridCols } from "@data/tailwindLUT";

type Props = {
  maxCols: keyof typeof gridCols;
  /** caption for the whole grid */
  caption?: string;
  class?: string;
  captionClass?: string;
  /** enable click-to-zoom modal for images */
  zoomable?: boolean;
};

const { maxCols, caption, class: className, captionClass, zoomable = true } = Astro.props;
const maxColsChecked = gridCols[maxCols];
---

<figure class:list={["video-wrapper"]}>
  <div
    class:list={[
      "image-grid grid",
      "[&_img]:object-cover [&_img]:w-full [&_img]:h-full",
      zoomable && "[&_img]:cursor-pointer",
      maxColsChecked,
      className,
    ]}
    data-zoomable={zoomable}
  >
    <slot />
  </div>
  {caption && <figcaption class:list={[captionClass]}>{caption}</figcaption>}
</figure>
